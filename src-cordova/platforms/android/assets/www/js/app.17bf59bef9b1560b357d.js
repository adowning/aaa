webpackJsonp([8],{"+nwc":function(e,t){},0:function(e,t,n){e.exports=n("nplA")},"3Puz":function(e,t){},IcnI:function(e,t,n){"use strict";var o=n("/5sW"),a=n("NYxO"),i=n("qVsQ"),s=n("mtWM"),c=n.n(s),r={state:{user:null,currentTimeSheet:null,isLoggedIn:null},mutations:{setUser:function(e,t){e.user=t;var n=i.a.database().ref("presence").push();i.a.databaseURL="https://andrewsadmin.firebaseio.com";c.a.get("http://47.219.112.177:1880/api/login").then(function(o){!function(e,t,o){t.myData=e,console.log(e,t,o),i.a.database().ref(".info/connected").on("value",function(e){if(e.val()){n.onDisconnect().remove();var t={user:o,status:"online"};n.set(t)}else{var a={user:o,status:"offline"};n.set(a)}})}(o,e,t)}).catch(function(e){console.log(e)})},setTimeSheet:function(e,t){console.log(t),e.currentTimeSheet=t,e.user.isClockedIn=!(!t||"undefined"==t)}},actions:{clockUserOutDeputy:function(e,t){var n=e.commit,o=c.a.create({baseURL:"http://47.219.112.177:1880/api/deputy",timeout:5e3});n("setLoading",!0),o.post("/timesheet/",{intEmployeeId:1,intOpunitId:3,action:"end"}).then(function(e){702==e.data.code&&n("setTimeSheet",e.data.timesheet),705==e.data.code&&console.log("employee was not clocked in")}).catch(function(e){console.log(e)})},clockUserInDeputy:function(e,t){var n=e.commit,o=c.a.create({baseURL:"http://47.219.112.177:1880/api/deputy",timeout:5e3,headers:{Authorization:"OAuth 89baa4d77fde8740da6e1e716595a198"}});n("setLoading",!0),o.post("/timesheet/",{intEmployeeId:1,intOpunitId:3,action:"start"}).then(function(e){700==e.data.code&&n("setTimeSheet",e.data.timesheet)}).catch(function(e){console.log(e),400==e&&console.log("already clockec in")})},signUserOut:function(e,t){(0,e.commit)("setLoading",!0),i.a.databaseURL="https://andrewsadmin.firebaseio.com",i.a.auth().signOut().catch(function(e){e.code;var t=e.message;console.log(t)})},signUserIn:function(e,t){var n=e.commit;n("setLoading",!0),console.log(t),i.a.auth().signInWithEmailAndPassword(t.email,"asdfasdf").catch(function(e){e.code;var t=e.message;console.log(t)}).then(function(e){console.log(e.uid),i.a.database().ref("users").child(e.uid).once("value",function(t){n("setLoading",!1),console.log(t.val());var o="";try{o=t.val().username}catch(e){o="myusernamesux"}var a="";try{a=t.val().photoURL}catch(e){a="https://firebasestorage.googleapis.com/v0/b/andrewsadmin.appspot.com/o/profilePhotos%2Fno_avatar.png?alt=media&token=f3564aff-adea-4cd6-baa2-de0028472437"}var i={id:e.uid,username:o,photoURL:a,email:t.val().email};n("setUser",i)})}).catch(function(e){console.log(e),n("setLoading",!1),n("setError",e)})},signUserUp:function(e,t){var n=e.commit;n("setLoading",!0),n("clearError"),i.a.auth().createUserWithEmailAndPassword(t.email,t.pass).then(function(e){i.a.database().ref("users").child(e.uid).set({name:t.username,displayName:t.username,photoURL:"https://firebasestorage.googleapis.com/v0/b/andrewsadmin.appspot.com/o/profilePhotos%2Fno_avatar.png?alt=media&token=f3564aff-adea-4cd6-baa2-de0028472437"}).then(function(o){n("setLoading",!1);var a={id:e.uid,username:t.username};n("setUser",a)}).catch(function(e){n("setLoading",!1),n("setError",e)})}).catch(function(e){n("setLoading",!1),n("setError",e)})}},getters:{user:function(e){return e.user}}},u=c.a.create({baseURL:"http://47.219.112.177:1880/api/humanity",timeout:8e3}),l={state:{clockStatus:null,currentTimeSheet:null,isClockedIn:null},mutations:{setClockStatus:function(e,t){e.clockStatus=t,e.isClockedIn=!(!t||"undefined"==t)}},actions:{updateClockStatus:function(e,t){e.commit;console.log(t),u.post("/updateClockStatus/",{intEmployeeId:t.id,intOpunitId:3}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},clockUserOutHumanity:function(e,t){var n=e.commit;n("setLoading",!0),u.post("/timesheet/",{intEmployeeId:1,intOpunitId:3,action:"end"}).then(function(e){702==e.data.code&&n("setClockStatus",e.data.timesheet),705==e.data.code&&console.log("employee was not clocked in")}).catch(function(e){console.log(e)})},clockUserInHumanity:function(e,t){var n=e.commit;n("setLoading",!0),u.post("/timesheet/",{intEmployeeId:1,intOpunitId:3,action:"start"}).then(function(e){700==e.data.code&&n("setClockStatus",e.data.timesheet)}).catch(function(e){console.log(e),400==e&&console.log("already clockec in")})}}},d=n("v/L+"),m=n.n(d);o.a.use(a.a);var p=new m.a({key:"vuex",storage:window.sessionStorage});o.a.use(a.a);var h=new a.a.Store({modules:{auth:r,humanity:l},state:{loading:!1,error:null,onlineUsers:[],myData:{}},mutations:{setLoading:function(e,t){e.loading=t},setError:function(e,t){e.error=t},clearError:function(e){e.error=null},setOnlineUsers:function(e,t){e.onlineUsers=t},setMyData:function(e,t){e.myData=t}},actions:{loadOnlineUsers:function(e){var t=e.commit;i.a.database().ref("presence").on("value",function(e){var n=[];n[0]=e.numChildren(),n[1]=e.val(),t("setOnlineUsers",n)})},loadMyData:function(e,t){var n=e.commit;n("setLoading",!0),console.log("loading"),c.a.get("http://47.219.112.177:1880/api/login").then(function(e){n("setMyData",e.data),n("setLoading",!1)}).catch(function(e){console.log(e),n("setLoading",!1)})},clearError:function(e){(0,e.commit)("clearError")}},getters:{loading:function(e){return e.loading},error:function(e){return e.error},onlineUsers:function(e){return e.onlineUsers},myData:function(e){return e.myData}},plugins:[p.plugin]});t.a=h},N12Q:function(e,t){},R58i:function(e,t){},YaEn:function(e,t,n){"use strict";var o=n("/5sW"),a=n("/ocq"),i=n("IcnI"),s=[{path:"/",component:function(){return n.e(1).then(n.bind(null,"xJsL"))}},{path:"/default",component:function(){return n.e(3).then(n.bind(null,"1d42"))},children:[{path:"/profile",component:function(){return n.e(5).then(n.bind(null,"o9cx"))}},{path:"/liveview",component:function(){return n.e(4).then(n.bind(null,"eNMo"))}},{path:"/directory",component:function(){return n.e(0).then(n.bind(null,"IPjP"))}},{path:"/hardware",component:function(){return n.e(2).then(n.bind(null,"TZHW"))}},{path:"/logs",component:function(){return n.e(6).then(n.bind(null,"BYaW"))}}]},{path:"*",component:function(){return n.e(7).then(n.bind(null,"thLP"))}}];o.a.use(a.a);var c=new a.a({mode:"hash",base:"/",scrollBehavior:function(){return{y:0}},routes:s});c.beforeEach(function(e,t,n){"/"!=e.path?i.a.getters.user?(console.log("There is a user, resume. ("+e.path+")"),n()):(console.log("There is no user, redirect to login. ("+e.path+")"),n("/")):(console.log("You're on the login page"),n())}),console.log(c.mode);t.a=c},YhSc:function(e,t){},nplA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("Dd8w"),a=n.n(o),i=n("/5sW"),s=n("7109");i.a.use(s.default,{components:s,directives:s,plugins:s});n("L4dm"),n("hAPP"),n("3Puz"),n("N12Q");var c=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"q-app"}},[t("router-view")],1)},r=[];c._withStripped=!0;var u=n("XyMi"),l=!1;var d=function(e){l||n("YhSc")},m=Object(u.a)({name:"App"},c,r,!1,d,null,null);m.options.__file="src/App.vue";var p=m.exports,h=n("YaEn"),f=n("IcnI"),g=n("mtWM"),v=n.n(g);n("Sazm");i.a.config.productionTip=!1;var I=a()({el:"#q-app",router:h.a,store:f.a},p),y=[];y.push(function(e){var t=e.Vue;t.prototype.$snipeit=v.a.create({baseURL:"http://47.219.112.177:1880/api/snipeit/",timeout:1e3,headers:{Authorization:"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjAxOWRkM2VmODU4ZDFjYTNmODgxYjU1MmY0ZjVmYmJkNTgzYjc0MGI1YWU0YWM4OGJmZWRjZGE4ODNiZjY5ZjZiNzZlMWE4Yjg4NjgyNmMzIn0.eyJhdWQiOiI1IiwianRpIjoiMDE5ZGQzZWY4NThkMWNhM2Y4ODFiNTUyZjRmNWZiYmQ1ODNiNzQwYjVhZTRhYzg4YmZlZGNkYTg4M2JmNjlmNmI3NmUxYThiODg2ODI2YzMiLCJpYXQiOjE1MjExMjE4NDgsIm5iZiI6MTUyMTEyMTg0OCwiZXhwIjoxNTUyNjU3ODQ4LCJzdWIiOiIxIiwic2NvcGVzIjpbXX0.VT8U9TsjYNr63cvXhSCDVTrY5gtLmUh9mnIN6Ln_vYttQQ9bJ_o1yrCH4RRl9wbfGAhj6wjkI64tim8xc6lo_X1kIaXY1j5Za31f8-9Fgd6lG5HMkNy8iXP5safSAmfWfPEOxCX_em-RVtQRfVf8vOxqOrXtzbnGZRwPoDcD_35qXZ8gmcej-ZOglLi7KZfhsQeKVbdRG5IE2z4NoMByUQm-kIyk_WYGVEeommcqumwgtkYIsEsiQzQiZkAiKEST1zzzVctKOU8fgKRbD_MzUer21SfgU6A74duXh1DswOO7FwFqGE2g3SFlqDv5ajcX8iDJazcCl-HclCOLNCHJKQolljTmCexBq-5c7x2UEmyuWNFkjGbGj8qzVcVmPGcz7EH3vBnEzKuRlwrunlaK9eZFI_RaHSGS8kM0XALBteqTgybMjLTejSjliB1ft2BQEh9JVH9mdsdL_2R0IYpKDWJK4LEE5_TnLc88Jj-BvfEp3h9iqv1HTEzmyTVBUjkIoJYrMzI5p3MMwJ6fP5TWvwP3le3dwBn9XxsOZHGOuxdVFNImmSJQNzwUBhL7MGLdBMq8x6hFjFVFy3dT6ySIIxdnw25YMG-w1dRUPa_ueCalRoAlwklcLmLKrkYSnrG1KRhXMLczvet1-l3mkOHOMd1mXFqFpl0x-JW9g4hjYpw",Accept:"application/json"}}),t.prototype.$axios=v.a}),y.push(function(e){e.app,e.Vue,e.router}),y.push(function(e){e.app,e.router,e.Vue}),y.forEach(function(e){return e({app:I,router:h.a,store:f.a,Vue:i.a})}),document.addEventListener("deviceready",function(){i.a.prototype.$q.cordova=window.cordova,new i.a(I)},!1)},qVsQ:function(e,t,n){"use strict";var o=n("Sazm"),a=n.n(o).a.initializeApp({apiKey:"AIzaSyDdspiJ0VAnGLeyRziofRCSld1bpBoms7E",authDomain:"andrewsadmin.firebaseapp.com",databaseURL:"https://andrewsadmin.firebaseio.com",projectId:"andrewsadmin",storageBucket:"andrewsadmin.appspot.com",messagingSenderId:"734746045873"});t.a=a}},[0]);